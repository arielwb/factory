# Runtime mode
ENV=local # local|staging|prod

# Optional: default plugin for worker (can be overridden with --plugin)
PLUGIN=emoji

# Database
DB_DRIVER=sqlite # sqlite|postgres
DATABASE_URL=file:./data/dev.db

# Storage
STORAGE_DRIVER=fs # fs|s3
S3_ENDPOINT=https://s3.eu-xxxx.backblazeb2.com
S3_REGION=auto
S3_BUCKET=factory-dev
S3_ACCESS_KEY=your-b2-key-id
S3_SECRET_KEY=your-b2-app-key

# Queue
QUEUE_DRIVER=memory # memory|bullmq
REDIS_URL=rediss://user:pass@host:6379

# LLM
LLM_DRIVER=mock # mock|openai
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL=gpt-4o-mini
PREVIEW_SECRET=dev-preview-token
NEXT_PUBLIC_PREVIEW_SECRET=

# Posters / Social
POSTER_DRIVER=mock # mock|live
TWITTER_BEARER=AAAAAAAA...your-bearer-token
# Optional legacy var some libs use
TWITTER_BEARER_TOKEN=
SITE_ORIGIN=http://localhost:3000

# Analytics
ANALYTICS_DRIVER=console # console|plausible
PLAUSIBLE_DOMAIN=example.com
PLAUSIBLE_API_KEY=plausible-api-key

# Ingest runner (factory)
INGEST_DRIVER=mock # mock|twitter|reddit|rss
INGEST_LIMIT=10
INGEST_NOCACHE=false

# Distribute
DISTRIBUTE_SINCE_MINUTES=1440 # plan posts published within the last N minutes

# Emoji plugin (Twitter quotas & tuning)
TW_PAGES=5          # discovery: number of pages to sample
TW_PER_PAGE=100     # discovery: results per page (10..100)
TW_PER_EMOJI=20     # context: tweets to fetch per emoji
TW_CONCURRENCY=3    # context: parallel emoji fetchers
TW_BUDGET_TWEETS=200 # context: hard cap on total tweets fetched

# Optional: hard-coded query for older lookup flow (not required with discovery)
EMOJI_QUERY=ü™ø ü•≤ ü´®

# Provider toggles & configs (non-X discovery first)
DISCOVER_PROVIDERS=reddit,hn      # comma-separated: reddit,hn,trends,youtube,rss
ENRICH_PROVIDERS=                 # e.g., x_context (optional, off by default)
X_ENABLED=false                   # set true only when on paid tier
DAILY_CONTEXT_BUDGET=0            # non-X: 0; on Basic with X: e.g., 5
REDDIT_SUBS=brasil,ProgrammerHumor,explainlikeimfive
RSS_FEEDS=                        # comma-separated RSS URLs
NEWS_FEEDS=https://news.google.com/rss?hl=pt-BR&gl=BR,https://news.google.com/rss?hl=en-US&gl=US
YT_API_KEY=                       # required to use YouTube provider
YT_QUERY=emoji meaning            # YouTube search query for discovery
YT_MAX_RESULTS=25                 # 1..50
RESERVOIR_LIMIT_PER_PROVIDER=100
RESERVOIR_TTL_HOURS=24
PROVIDERS_CONCURRENCY=3           # not yet used (sequential by default)
PROFANITY_DENYLIST=nsfw,sex,adult
EMOJI_DENYLIST=ü™ø,‚ù§Ô∏è
TRENDS_TERMS=emoji significado|emoji meaning|LOL significado|SMH meaning|por que|why does
TRENDS_GEO=US
TRENDS_HL=en-US
TRENDS_TZ=0
TRENDS_SEEDS_EN=emoji meaning,what does ... mean,acronym meaning,what does POV mean,what does SMH mean
TRENDS_TIMEWINDOW=now 7-d
TRENDS_MAX_PROMOTED=20
TRENDS_MIN_GROWTH=50
TRENDS_CACHE_TTL_HOURS=24
